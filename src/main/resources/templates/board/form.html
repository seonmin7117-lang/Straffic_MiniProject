<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<body>
<div layout:fragment="content">
    <style>
        /* ktx.html과 동일한 상단 간격 및 레이아웃 적용 */
        .layout-content {
            padding: 80px 0 40px;
            min-height: auto; /* 불필요한 하단 여백 제거 */
            display: flex;
            flex-direction: column;
        }

        /* Web Version Optimization */
        .notice-form-wrapper { /* 게시글 작성 폼 컨테이너 */
            background: white; 
            padding: 40px; 
            border-radius: 12px; 
            width: 100%;
            max-width: 1400px; /* 자전거 페이지와 동일하게 1400px로 확장 */
            margin: 0 auto; 
            border: 1px solid #ddd;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05); /* 자전거 페이지와 동일한 그림자 */
            box-sizing: border-box;
        }
        
        .notice-form-wrapper h1 { 
            font-size: 2rem; 
            margin-bottom: 30px; 
            font-weight: 800; 
            color: #111; 
            border-bottom: 3px solid #333;
            padding-bottom: 20px;
        }

        .notice-form { display: flex; flex-direction: column; gap: 24px; }
        
        .notice-form label { 
            font-weight: 700; 
            margin-bottom: 10px; 
            display: block; 
            color: #333; 
            font-size: 1.05rem;
        }

        .notice-form input[type="text"],
        .notice-form select,
        .notice-form textarea { 
            width: 100%; 
            padding: 16px; 
            border-radius: 8px; 
            border: 1px solid #ddd; 
            font-size: 1rem; 
            background: #f9f9f9;
            transition: all 0.2s;
            box-sizing: border-box; /* 패딩 포함 계산 */
        }

        /* 제목 입력창 강조 */
        .notice-form input[type="text"]#title {
            font-size: 1.25rem;
            font-weight: 600;
            background: #fff;
            border-color: #ccc;
        }

        .notice-form input[type="text"]:focus,
        .notice-form textarea:focus { 
            outline: none; 
            border-color: #333; 
            background: #fff;
            box-shadow: 0 0 0 3px rgba(0,0,0,0.05);
        }

        .notice-form textarea { 
            min-height: 400px; /* 작성 영역 대폭 확대 */
            resize: vertical; 
            line-height: 1.6; 
        }

        .notice-form input[type="file"] { 
            padding: 10px; 
            background: #f1f1f1; 
            border-radius: 8px; 
            width: 100%;
            box-sizing: border-box;
        }
        
        /* 체크박스 영역 스타일링 */
        .checkbox-wrapper label { 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            cursor: pointer; 
            padding: 10px 0;
            font-size: 1.05rem;
        }
        .checkbox-wrapper input[type="checkbox"] { 
            width: 20px; 
            height: 20px; 
            accent-color: #333; 
        }

        .notice-form .actions { 
            margin-top: 30px; 
            display: flex; 
            gap: 12px; 
            border-top: 1px solid #eee; 
            padding-top: 30px; 
            justify-content: flex-end; /* 버튼 우측 정렬 */
        }

        .btn-primary { 
            padding: 14px 40px; 
            border-radius: 8px; 
            background: #333; 
            color: #fff; 
            border: none; 
            cursor: pointer; 
            font-weight: 700; 
            font-size: 1.05rem; 
            transition: background 0.2s;
        }
        .btn-primary:hover { background: #000; }
        
        .btn-secondary { 
            padding: 14px 30px; 
            border-radius: 8px; 
            background: #fff; 
            color: #555; 
            text-decoration: none; 
            border: 1px solid #ddd; 
            font-weight: 600; 
            font-size: 1.05rem; 
            transition: all 0.2s;
        }
        .btn-secondary:hover { background: #f5f5f5; color: #333; border-color: #bbb; }

        /* Mobile Optimization */
        @media (max-width: 768px) { /* 모바일 화면 (768px 이하) 최적화 */
            .layout-content { padding-top: 60px; }
            
            .notice-form-wrapper { 
                padding: 24px; 
                margin: 20px 20px;
                width: 400px;
                max-width: 100%;
            }
            
            .notice-form-wrapper h1 { font-size: 1.5rem; margin-bottom: 20px; }
            
            .notice-form { gap: 16px; }
            
            .notice-form label { font-size: 0.95rem; margin-bottom: 6px; }
            
            .notice-form input[type="text"], 
            .notice-form textarea { 
                padding: 12px; 
                font-size: 0.95rem; 
            }
            
            .notice-form input[type="text"]#title { font-size: 1.1rem; }
            
            .notice-form textarea { min-height: 250px; }
            
            .notice-form .actions { 
                flex-direction: column-reverse; /* 버튼 세로 배치 (취소가 아래로) */
                gap: 10px;
            }
            
            .btn-primary, .btn-secondary { 
                width: 100%; 
                text-align: center; 
                padding: 12px; 
                font-size: 1rem;
            }
        }
    </style>

    <div class="notice-form-wrapper">
        <h1>게시글 작성</h1>

        <form th:action="@{/board/write}" 
              method="post" 
              th:object="${boardCreateDTO}" 
              enctype="multipart/form-data" 
              class="notice-form">
            
            <div>
                <label for="title">제목</label>
                <input type="text" id="title" th:field="*{title}" placeholder="제목을 입력하세요." required>
            </div>

            <div>
                <label for="content">내용</label>
                <textarea id="content" th:field="*{content}" placeholder="내용을 입력하세요." required></textarea>
            </div>

            <div>
                <label for="image">이미지 업로드</label>
                <input type="file" id="image" name="image" accept="image/*">
            </div>

            <div sec:authorize="hasRole('ADMIN')" class="checkbox-wrapper">
                <label>
                    <input type="checkbox" th:field="*{pinned}">
                    <span>상단 고정 (공지사항으로 등록)</span>
                </label>
            </div>

            <div class="actions">
                <button type="submit" class="btn-primary">등록</button>
                <a th:href="@{/board/list}" class="btn-secondary">목록으로</a>
            </div>
        </form>
    </div>
</div>
</body>
</html>